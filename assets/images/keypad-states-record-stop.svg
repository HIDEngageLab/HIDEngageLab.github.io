<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="516px" preserveAspectRatio="none" style="width:472px;height:516px;" version="1.1" viewBox="0 0 472 516" width="472px" zoomAndPan="magnify"><defs/><g><rect fill="#FDFDFD" height="409.5" style="stroke: #0088EE; stroke-width: 1.0;" width="10" x="28.5" y="46.625"/><rect fill="#FDFDFD" height="384.875" style="stroke: #0088EE; stroke-width: 1.0;" width="10" x="342.5" y="71.25"/><line style="stroke: #0088EE; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="33" x2="33" y1="36.625" y2="474.125"/><line style="stroke: #0088EE; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="347" x2="347" y1="36.625" y2="474.125"/><rect fill="#00FFAA" height="32.625" style="stroke: #0088EE; stroke-width: 1.5;" width="51" x="8" y="3"/><text fill="#111111" font-family="sans-serif" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="37" x="15" y="24.8516">Host</text><rect fill="#00FFAA" height="32.625" style="stroke: #0088EE; stroke-width: 1.5;" width="51" x="8" y="473.125"/><text fill="#111111" font-family="sans-serif" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="37" x="15" y="494.9766">Host</text><rect fill="#00FFAA" height="32.625" style="stroke: #0088EE; stroke-width: 1.5;" width="71" x="312" y="3"/><text fill="#111111" font-family="sans-serif" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="57" x="319" y="24.8516">Keypad</text><rect fill="#00FFAA" height="32.625" style="stroke: #0088EE; stroke-width: 1.5;" width="71" x="312" y="473.125"/><text fill="#111111" font-family="sans-serif" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="57" x="319" y="494.9766">Keypad</text><rect fill="#FDFDFD" height="409.5" style="stroke: #0088EE; stroke-width: 1.0;" width="10" x="28.5" y="46.625"/><rect fill="#FDFDFD" height="384.875" style="stroke: #0088EE; stroke-width: 1.0;" width="10" x="342.5" y="71.25"/><line style="stroke: #0088EE; stroke-width: 1.0;" x1="340.5" x2="330.5" y1="71.25" y2="67.25"/><line style="stroke: #0088EE; stroke-width: 1.0;" x1="340.5" x2="330.5" y1="71.25" y2="75.25"/><line style="stroke: #0088EE; stroke-width: 1.0;" x1="38.5" x2="341.5" y1="71.25" y2="71.25"/><text fill="#111111" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11" x="45.5" y="65.4766">1</text><text fill="#111111" font-family="sans-serif" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="175" x="60.5" y="65.4766">STATUS+REQ (START)</text><line style="stroke: #0088EE; stroke-width: 1.0;" x1="38.5" x2="48.5" y1="103.875" y2="99.875"/><line style="stroke: #0088EE; stroke-width: 1.0;" x1="38.5" x2="48.5" y1="103.875" y2="107.875"/><line style="stroke: #0088EE; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="38.5" x2="341.5" y1="103.875" y2="103.875"/><text fill="#111111" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11" x="55.5" y="98.1016">2</text><text fill="#111111" font-family="sans-serif" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="215" x="70.5" y="98.1016">STATUS+CFM (START IDLE)</text><line style="stroke: #0088EE; stroke-width: 1.0;" x1="352.5" x2="394.5" y1="136.5" y2="136.5"/><line style="stroke: #0088EE; stroke-width: 1.0;" x1="394.5" x2="394.5" y1="136.5" y2="149.5"/><line style="stroke: #0088EE; stroke-width: 1.0;" x1="353.5" x2="394.5" y1="149.5" y2="149.5"/><line style="stroke: #0088EE; stroke-width: 1.0;" x1="353.5" x2="363.5" y1="149.5" y2="145.5"/><line style="stroke: #0088EE; stroke-width: 1.0;" x1="353.5" x2="363.5" y1="149.5" y2="153.5"/><text fill="#111111" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11" x="359.5" y="130.7266">3</text><text fill="#111111" font-family="sans-serif" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="86" x="374.5" y="130.7266">set ACTIVE</text><line style="stroke: #0088EE; stroke-width: 1.0;" x1="38.5" x2="48.5" y1="182.125" y2="178.125"/><line style="stroke: #0088EE; stroke-width: 1.0;" x1="38.5" x2="48.5" y1="182.125" y2="186.125"/><line style="stroke: #0088EE; stroke-width: 1.0;" x1="38.5" x2="341.5" y1="182.125" y2="182.125"/><text fill="#111111" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11" x="55.5" y="176.3516">4</text><text fill="#111111" font-family="sans-serif" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="177" x="70.5" y="176.3516">STATUS+IND (ACTIVE)</text><line style="stroke: #0088EE; stroke-width: 1.0;" x1="340.5" x2="330.5" y1="214.75" y2="210.75"/><line style="stroke: #0088EE; stroke-width: 1.0;" x1="340.5" x2="330.5" y1="214.75" y2="218.75"/><line style="stroke: #0088EE; stroke-width: 1.0;" x1="38.5" x2="341.5" y1="214.75" y2="214.75"/><text fill="#111111" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11" x="45.5" y="208.9766">5</text><text fill="#111111" font-family="sans-serif" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="193" x="60.5" y="208.9766">STATUS+REQ (RECORD)</text><line style="stroke: #0088EE; stroke-width: 1.0;" x1="38.5" x2="48.5" y1="247.375" y2="243.375"/><line style="stroke: #0088EE; stroke-width: 1.0;" x1="38.5" x2="48.5" y1="247.375" y2="251.375"/><line style="stroke: #0088EE; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="38.5" x2="341.5" y1="247.375" y2="247.375"/><text fill="#111111" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11" x="55.5" y="241.6016">6</text><text fill="#111111" font-family="sans-serif" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="245" x="70.5" y="241.6016">STATUS+CFM (WRONG_MODE)</text><line style="stroke: #0088EE; stroke-width: 1.0;" x1="340.5" x2="330.5" y1="280" y2="276"/><line style="stroke: #0088EE; stroke-width: 1.0;" x1="340.5" x2="330.5" y1="280" y2="284"/><line style="stroke: #0088EE; stroke-width: 1.0;" x1="38.5" x2="341.5" y1="280" y2="280"/><text fill="#111111" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11" x="45.5" y="274.2266">7</text><text fill="#111111" font-family="sans-serif" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="164" x="60.5" y="274.2266">STATUS+REQ (PLAY)</text><line style="stroke: #0088EE; stroke-width: 1.0;" x1="38.5" x2="48.5" y1="312.625" y2="308.625"/><line style="stroke: #0088EE; stroke-width: 1.0;" x1="38.5" x2="48.5" y1="312.625" y2="316.625"/><line style="stroke: #0088EE; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="38.5" x2="341.5" y1="312.625" y2="312.625"/><text fill="#111111" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11" x="55.5" y="306.8516">8</text><text fill="#111111" font-family="sans-serif" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="245" x="70.5" y="306.8516">STATUS+CFM (WRONG_MODE)</text><line style="stroke: #0088EE; stroke-width: 1.0;" x1="340.5" x2="330.5" y1="345.25" y2="341.25"/><line style="stroke: #0088EE; stroke-width: 1.0;" x1="340.5" x2="330.5" y1="345.25" y2="349.25"/><line style="stroke: #0088EE; stroke-width: 1.0;" x1="38.5" x2="341.5" y1="345.25" y2="345.25"/><text fill="#111111" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11" x="45.5" y="339.4766">9</text><text fill="#111111" font-family="sans-serif" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="167" x="60.5" y="339.4766">STATUS+REQ (STOP)</text><line style="stroke: #0088EE; stroke-width: 1.0;" x1="38.5" x2="48.5" y1="377.875" y2="373.875"/><line style="stroke: #0088EE; stroke-width: 1.0;" x1="38.5" x2="48.5" y1="377.875" y2="381.875"/><line style="stroke: #0088EE; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="38.5" x2="341.5" y1="377.875" y2="377.875"/><text fill="#111111" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22" x="55.5" y="372.1016">10</text><text fill="#111111" font-family="sans-serif" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="254" x="81.5" y="372.1016">STATUS+CFM (RECORD ACTIVE)</text><line style="stroke: #0088EE; stroke-width: 1.0;" x1="352.5" x2="394.5" y1="410.5" y2="410.5"/><line style="stroke: #0088EE; stroke-width: 1.0;" x1="394.5" x2="394.5" y1="410.5" y2="423.5"/><line style="stroke: #0088EE; stroke-width: 1.0;" x1="353.5" x2="394.5" y1="423.5" y2="423.5"/><line style="stroke: #0088EE; stroke-width: 1.0;" x1="353.5" x2="363.5" y1="423.5" y2="419.5"/><line style="stroke: #0088EE; stroke-width: 1.0;" x1="353.5" x2="363.5" y1="423.5" y2="427.5"/><text fill="#111111" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22" x="359.5" y="404.7266">11</text><text fill="#111111" font-family="sans-serif" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="65" x="385.5" y="404.7266">set IDLE</text><line style="stroke: #0088EE; stroke-width: 1.0;" x1="33.5" x2="43.5" y1="456.125" y2="452.125"/><line style="stroke: #0088EE; stroke-width: 1.0;" x1="33.5" x2="43.5" y1="456.125" y2="460.125"/><line style="stroke: #0088EE; stroke-width: 1.0;" x1="33.5" x2="346.5" y1="456.125" y2="456.125"/><text fill="#111111" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22" x="50.5" y="450.3516">12</text><text fill="#111111" font-family="sans-serif" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="229" x="76.5" y="450.3516">STATUS+IND (RECORD IDLE)</text><!--MD5=[f859975b656315cc351dd01874d253ae]
@startuml keypad-states-record-stop

skinparam useBetaStyle true
skinparam shadowing false

<style>
    sequenceDiagram {
        BackGroundColor #fdfdfd
        FontColor #111
        FontStyle "Roboto,Helvetica,Arial,sans-serif"
        FontSize 16

        lifeline {
            LineColor #0088ee
        }

        arrow {
            FontColor #111
            LineColor #0088ee
        }

        participant {
            BackGroundColor #00ffaa
            LineColor #0088ee
        }
    }
}
</style>

autonumber

participant Host
participant Keypad

activate Host
Host ->> Keypad: STATUS+REQ (START)
activate Keypad
Keypad - ->> Host: STATUS+CFM (START IDLE)
Keypad ->> Keypad : set ACTIVE
Keypad ->> Host: STATUS+IND (ACTIVE)

Host ->> Keypad: STATUS+REQ (RECORD)
Keypad - ->> Host: STATUS+CFM (WRONG_MODE)

Host ->> Keypad: STATUS+REQ (PLAY)
Keypad - ->> Host: STATUS+CFM (WRONG_MODE)

Host ->> Keypad: STATUS+REQ (STOP)
Keypad - ->> Host: STATUS+CFM (RECORD ACTIVE) 
Keypad ->> Keypad : set IDLE
Keypad ->> Host: STATUS+IND (RECORD IDLE)
deactivate Keypad
deactivate Host

@enduml

PlantUML version 1.2020.02(Sun Mar 01 11:22:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.21+9-post-Ubuntu-0ubuntu122.04
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>